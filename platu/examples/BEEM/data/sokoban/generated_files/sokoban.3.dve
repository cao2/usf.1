



//0 = free
//1 = wall
//2 = box
//person is reprezented by x,y (not marked on plan)





byte a[209] = {
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,2,0,0,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,0,2,0,2,0,0,1,1,1,1,1,1,1,1,1,1,
1,1,1,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,
1,0,0,0,1,0,1,1,0,1,1,1,1,1,0,0,0,0,1,
1,0,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1,
1,1,1,1,1,0,1,1,1,0,1,0,1,1,0,0,0,0,1,
1,1,1,1,1,0,0,0,0,0,1,0,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1};
byte x =11, y= 9;

byte done=0;

process P {
state q;
init q;
trans
 q -> q {guard done==0 and a[74] == 2 and a[75] == 2 and a[85] == 2 and a[86] == 2 and a[96] == 2 and a[97] == 2; effect done = 1; }, 
 q -> q { guard done==0 and a[((y)*19+x-1)]==0; effect x = x-1;  },
 q -> q { guard done==0 and a[((y)*19+x+1)]==0; effect x = x+1;  },
 q -> q { guard  done==0 and a[((y-1)*19+x)]==0; effect y = y-1;  },
 q -> q { guard  done==0 and a[((y+1)*19+x)]==0; effect y = y+1;  },

 q -> q { guard  done==0 and a[((y)*19+x-1)]==2 && a[((y)*19+x-2)]==0; effect a[((y)*19+x-2)]=2, a[((y)*19+x-1)]=0, x=x-1; },
 q -> q { guard  done==0 and a[((y)*19+x+1)]==2 && a[((y)*19+x+2)]==0; effect a[((y)*19+x+2)]=2, a[((y)*19+x+1)]=0, x=x+1; },
 q -> q { guard  done==0 and a[((y-1)*19+x)]==2 && a[((y-2)*19+x)]==0; effect a[((y-2)*19+x)]=2, a[((y-1)*19+x)]=0, y=y-1; },
 q -> q { guard  done==0 and a[((y+1)*19+x)]==2 && a[((y+2)*19+x)]==0; effect a[((y+2)*19+x)]=2, a[((y+1)*19+x)]=0, y=y+1; };

}


system async;