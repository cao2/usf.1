




//0=free
//1=peg
//2=wall


//N*N with one corner empty

byte a[16] = {
1,1,1,1,
1,1,1,1,
1,1,1,1,
1,1,1,0 };
byte peg_count = 15;


process P {
state q;
init q;
trans


//right down
 q->q {guard a[((0)*4+0)]==1 && a[((0+1)*4+0+1)]==1 && a[((0+2)*4+0+2)]==0;
	effect a[((0)*4+0)]=0, a[((0+1)*4+0+1)]=0, a[((0+2)*4+0+2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((0)*4+1)]==1 && a[((0+1)*4+1+1)]==1 && a[((0+2)*4+1+2)]==0;
	effect a[((0)*4+1)]=0, a[((0+1)*4+1+1)]=0, a[((0+2)*4+1+2)]=1, peg_count=peg_count-1;},

 q->q {guard a[((1)*4+0)]==1 && a[((1+1)*4+0+1)]==1 && a[((1+2)*4+0+2)]==0;
	effect a[((1)*4+0)]=0, a[((1+1)*4+0+1)]=0, a[((1+2)*4+0+2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((1)*4+1)]==1 && a[((1+1)*4+1+1)]==1 && a[((1+2)*4+1+2)]==0;
	effect a[((1)*4+1)]=0, a[((1+1)*4+1+1)]=0, a[((1+2)*4+1+2)]=1, peg_count=peg_count-1;},



//right up
 q->q {guard a[((2)*4+0)]==1 && a[((2-1)*4+0+1)]==1 && a[((2-2)*4+0+2)]==0;
	effect a[((2)*4+0)]=0, a[((2-1)*4+0+1)]=0, a[((2-2)*4+0+2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((2)*4+1)]==1 && a[((2-1)*4+1+1)]==1 && a[((2-2)*4+1+2)]==0;
	effect a[((2)*4+1)]=0, a[((2-1)*4+1+1)]=0, a[((2-2)*4+1+2)]=1, peg_count=peg_count-1;},

 q->q {guard a[((3)*4+0)]==1 && a[((3-1)*4+0+1)]==1 && a[((3-2)*4+0+2)]==0;
	effect a[((3)*4+0)]=0, a[((3-1)*4+0+1)]=0, a[((3-2)*4+0+2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((3)*4+1)]==1 && a[((3-1)*4+1+1)]==1 && a[((3-2)*4+1+2)]==0;
	effect a[((3)*4+1)]=0, a[((3-1)*4+1+1)]=0, a[((3-2)*4+1+2)]=1, peg_count=peg_count-1;},



//left down
 q->q {guard a[((0)*4+2)]==1 && a[((0+1)*4+2-1)]==1 && a[((0+2)*4+2-2)]==0;
	effect a[((0)*4+2)]=0, a[((0+1)*4+2-1)]=0, a[((0+2)*4+2-2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((0)*4+3)]==1 && a[((0+1)*4+3-1)]==1 && a[((0+2)*4+3-2)]==0;
	effect a[((0)*4+3)]=0, a[((0+1)*4+3-1)]=0, a[((0+2)*4+3-2)]=1, peg_count=peg_count-1;},

 q->q {guard a[((1)*4+2)]==1 && a[((1+1)*4+2-1)]==1 && a[((1+2)*4+2-2)]==0;
	effect a[((1)*4+2)]=0, a[((1+1)*4+2-1)]=0, a[((1+2)*4+2-2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((1)*4+3)]==1 && a[((1+1)*4+3-1)]==1 && a[((1+2)*4+3-2)]==0;
	effect a[((1)*4+3)]=0, a[((1+1)*4+3-1)]=0, a[((1+2)*4+3-2)]=1, peg_count=peg_count-1;},



// left up
 q->q {guard a[((2)*4+2)]==1 && a[((2-1)*4+2-1)]==1 && a[((2-2)*4+2-2)]==0;
	effect a[((2)*4+2)]=0, a[((2-1)*4+2-1)]=0, a[((2-2)*4+2-2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((2)*4+3)]==1 && a[((2-1)*4+3-1)]==1 && a[((2-2)*4+3-2)]==0;
	effect a[((2)*4+3)]=0, a[((2-1)*4+3-1)]=0, a[((2-2)*4+3-2)]=1, peg_count=peg_count-1;},

 q->q {guard a[((3)*4+2)]==1 && a[((3-1)*4+2-1)]==1 && a[((3-2)*4+2-2)]==0;
	effect a[((3)*4+2)]=0, a[((3-1)*4+2-1)]=0, a[((3-2)*4+2-2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((3)*4+3)]==1 && a[((3-1)*4+3-1)]==1 && a[((3-2)*4+3-2)]==0;
	effect a[((3)*4+3)]=0, a[((3-1)*4+3-1)]=0, a[((3-2)*4+3-2)]=1, peg_count=peg_count-1;},




//right jump moves
 q->q {guard a[((0)*4+0)]==1 && a[((0)*4+0+1)]==1 && a[((0)*4+0+2)]==0;
	effect a[((0)*4+0)]=0, a[((0)*4+0+1)]=0, a[((0)*4+0+2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((0)*4+1)]==1 && a[((0)*4+1+1)]==1 && a[((0)*4+1+2)]==0;
	effect a[((0)*4+1)]=0, a[((0)*4+1+1)]=0, a[((0)*4+1+2)]=1, peg_count=peg_count-1;},

 q->q {guard a[((1)*4+0)]==1 && a[((1)*4+0+1)]==1 && a[((1)*4+0+2)]==0;
	effect a[((1)*4+0)]=0, a[((1)*4+0+1)]=0, a[((1)*4+0+2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((1)*4+1)]==1 && a[((1)*4+1+1)]==1 && a[((1)*4+1+2)]==0;
	effect a[((1)*4+1)]=0, a[((1)*4+1+1)]=0, a[((1)*4+1+2)]=1, peg_count=peg_count-1;},

 q->q {guard a[((2)*4+0)]==1 && a[((2)*4+0+1)]==1 && a[((2)*4+0+2)]==0;
	effect a[((2)*4+0)]=0, a[((2)*4+0+1)]=0, a[((2)*4+0+2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((2)*4+1)]==1 && a[((2)*4+1+1)]==1 && a[((2)*4+1+2)]==0;
	effect a[((2)*4+1)]=0, a[((2)*4+1+1)]=0, a[((2)*4+1+2)]=1, peg_count=peg_count-1;},

 q->q {guard a[((3)*4+0)]==1 && a[((3)*4+0+1)]==1 && a[((3)*4+0+2)]==0;
	effect a[((3)*4+0)]=0, a[((3)*4+0+1)]=0, a[((3)*4+0+2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((3)*4+1)]==1 && a[((3)*4+1+1)]==1 && a[((3)*4+1+2)]==0;
	effect a[((3)*4+1)]=0, a[((3)*4+1+1)]=0, a[((3)*4+1+2)]=1, peg_count=peg_count-1;},


//left jump moves
 q->q {guard a[((0)*4+2)]==1 && a[((0)*4+2-1)]==1 && a[((0)*4+2-2)]==0;
	effect a[((0)*4+2)]=0, a[((0)*4+2-1)]=0, a[((0)*4+2-2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((0)*4+3)]==1 && a[((0)*4+3-1)]==1 && a[((0)*4+3-2)]==0;
	effect a[((0)*4+3)]=0, a[((0)*4+3-1)]=0, a[((0)*4+3-2)]=1, peg_count=peg_count-1;},

 q->q {guard a[((1)*4+2)]==1 && a[((1)*4+2-1)]==1 && a[((1)*4+2-2)]==0;
	effect a[((1)*4+2)]=0, a[((1)*4+2-1)]=0, a[((1)*4+2-2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((1)*4+3)]==1 && a[((1)*4+3-1)]==1 && a[((1)*4+3-2)]==0;
	effect a[((1)*4+3)]=0, a[((1)*4+3-1)]=0, a[((1)*4+3-2)]=1, peg_count=peg_count-1;},

 q->q {guard a[((2)*4+2)]==1 && a[((2)*4+2-1)]==1 && a[((2)*4+2-2)]==0;
	effect a[((2)*4+2)]=0, a[((2)*4+2-1)]=0, a[((2)*4+2-2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((2)*4+3)]==1 && a[((2)*4+3-1)]==1 && a[((2)*4+3-2)]==0;
	effect a[((2)*4+3)]=0, a[((2)*4+3-1)]=0, a[((2)*4+3-2)]=1, peg_count=peg_count-1;},

 q->q {guard a[((3)*4+2)]==1 && a[((3)*4+2-1)]==1 && a[((3)*4+2-2)]==0;
	effect a[((3)*4+2)]=0, a[((3)*4+2-1)]=0, a[((3)*4+2-2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((3)*4+3)]==1 && a[((3)*4+3-1)]==1 && a[((3)*4+3-2)]==0;
	effect a[((3)*4+3)]=0, a[((3)*4+3-1)]=0, a[((3)*4+3-2)]=1, peg_count=peg_count-1;},


//down jump moves
 q->q {guard a[((0)*4+0)]==1 && a[((0+1)*4+0)]==1 && a[((0+2)*4+0)]==0;
	effect a[((0)*4+0)]=0, a[((0+1)*4+0)]=0, a[((0+2)*4+0)]=1, peg_count=peg_count-1;},
 q->q {guard a[((0)*4+1)]==1 && a[((0+1)*4+1)]==1 && a[((0+2)*4+1)]==0;
	effect a[((0)*4+1)]=0, a[((0+1)*4+1)]=0, a[((0+2)*4+1)]=1, peg_count=peg_count-1;},
 q->q {guard a[((0)*4+2)]==1 && a[((0+1)*4+2)]==1 && a[((0+2)*4+2)]==0;
	effect a[((0)*4+2)]=0, a[((0+1)*4+2)]=0, a[((0+2)*4+2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((0)*4+3)]==1 && a[((0+1)*4+3)]==1 && a[((0+2)*4+3)]==0;
	effect a[((0)*4+3)]=0, a[((0+1)*4+3)]=0, a[((0+2)*4+3)]=1, peg_count=peg_count-1;},

 q->q {guard a[((1)*4+0)]==1 && a[((1+1)*4+0)]==1 && a[((1+2)*4+0)]==0;
	effect a[((1)*4+0)]=0, a[((1+1)*4+0)]=0, a[((1+2)*4+0)]=1, peg_count=peg_count-1;},
 q->q {guard a[((1)*4+1)]==1 && a[((1+1)*4+1)]==1 && a[((1+2)*4+1)]==0;
	effect a[((1)*4+1)]=0, a[((1+1)*4+1)]=0, a[((1+2)*4+1)]=1, peg_count=peg_count-1;},
 q->q {guard a[((1)*4+2)]==1 && a[((1+1)*4+2)]==1 && a[((1+2)*4+2)]==0;
	effect a[((1)*4+2)]=0, a[((1+1)*4+2)]=0, a[((1+2)*4+2)]=1, peg_count=peg_count-1;},
 q->q {guard a[((1)*4+3)]==1 && a[((1+1)*4+3)]==1 && a[((1+2)*4+3)]==0;
	effect a[((1)*4+3)]=0, a[((1+1)*4+3)]=0, a[((1+2)*4+3)]=1, peg_count=peg_count-1;},


//up jump moves
 q->q {guard a[((2)*4+0)]==1 && a[((2-1)*4+0)]==1 && a[((2-2)*4+0)]==0;
	effect a[((2)*4+0)]=0, a[((2-1)*4+0)]=0, a[((2-2)*4+0)]=1, peg_count=peg_count-1;} ,
 q->q {guard a[((2)*4+1)]==1 && a[((2-1)*4+1)]==1 && a[((2-2)*4+1)]==0;
	effect a[((2)*4+1)]=0, a[((2-1)*4+1)]=0, a[((2-2)*4+1)]=1, peg_count=peg_count-1;} ,
 q->q {guard a[((2)*4+2)]==1 && a[((2-1)*4+2)]==1 && a[((2-2)*4+2)]==0;
	effect a[((2)*4+2)]=0, a[((2-1)*4+2)]=0, a[((2-2)*4+2)]=1, peg_count=peg_count-1;} ,
 q->q {guard a[((2)*4+3)]==1 && a[((2-1)*4+3)]==1 && a[((2-2)*4+3)]==0;
	effect a[((2)*4+3)]=0, a[((2-1)*4+3)]=0, a[((2-2)*4+3)]=1, peg_count=peg_count-1;}  ,
 q->q {guard a[((3)*4+0)]==1 && a[((3-1)*4+0)]==1 && a[((3-2)*4+0)]==0;
	effect a[((3)*4+0)]=0, a[((3-1)*4+0)]=0, a[((3-2)*4+0)]=1, peg_count=peg_count-1;} ,
 q->q {guard a[((3)*4+1)]==1 && a[((3-1)*4+1)]==1 && a[((3-2)*4+1)]==0;
	effect a[((3)*4+1)]=0, a[((3-1)*4+1)]=0, a[((3-2)*4+1)]=1, peg_count=peg_count-1;} ,
 q->q {guard a[((3)*4+2)]==1 && a[((3-1)*4+2)]==1 && a[((3-2)*4+2)]==0;
	effect a[((3)*4+2)]=0, a[((3-1)*4+2)]=0, a[((3-2)*4+2)]=1, peg_count=peg_count-1;} ,
 q->q {guard a[((3)*4+3)]==1 && a[((3-1)*4+3)]==1 && a[((3-2)*4+3)]==0;
	effect a[((3)*4+3)]=0, a[((3-1)*4+3)]=0, a[((3-2)*4+3)]=1, peg_count=peg_count-1;}  ;


}

system async;